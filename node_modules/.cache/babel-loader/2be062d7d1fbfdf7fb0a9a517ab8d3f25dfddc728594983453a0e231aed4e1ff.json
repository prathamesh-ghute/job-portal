{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ApplyJob=()=>{const{id}=useParams();const navigate=useNavigate();const[job,setJob]=useState(null);const[loading,setLoading]=useState(true);const[formData,setFormData]=useState({name:'',email:'',phone:'',resume:null,coverLetter:''});useEffect(()=>{const fetchJobDetails=async()=>{try{const response=await axios.get(`https://api.example.com/jobs/${id}`);// Replace with your API endpoint\nsetJob(response.data);setLoading(false);}catch(error){console.error('Error fetching job details:',error);setLoading(false);}};fetchJobDetails();},[id]);const handleChange=e=>{const{name,value,files}=e.target;setFormData({...formData,[name]:files?files[0]:value});};const handleSubmit=async e=>{e.preventDefault();try{const formDataToSend=new FormData();Object.keys(formData).forEach(key=>{formDataToSend.append(key,formData[key]);});await axios.post(`https://api.example.com/jobs/${id}/apply`,formDataToSend,{headers:{'Content-Type':'multipart/form-data'}});navigate('/jobs');}catch(error){console.error('Error submitting application:',error);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Loading...\"});}if(!job){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:\"Job not found\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:[\"Apply for \",job.title]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block text-sm font-medium text-gray-700\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",value:formData.name,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-gray-700\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",value:formData.email,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",className:\"block text-sm font-medium text-gray-700\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",value:formData.phone,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"resume\",className:\"block text-sm font-medium text-gray-700\",children:\"Resume (PDF)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"resume\",name:\"resume\",required:true,accept:\".pdf\",className:\"mt-1 block w-full text-sm text-gray-500\\r file:mr-4 file:py-2 file:px-4\\r file:rounded-md file:border-0\\r file:text-sm file:font-semibold\\r file:bg-blue-50 file:text-blue-700\\r hover:file:bg-blue-100\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"coverLetter\",className:\"block text-sm font-medium text-gray-700\",children:\"Cover Letter\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"coverLetter\",name:\"coverLetter\",rows:\"4\",required:true,className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\",value:formData.coverLetter,onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Submit Application\"})})]})]})});};export default ApplyJob;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","ApplyJob","id","navigate","job","setJob","loading","setLoading","formData","setFormData","name","email","phone","resume","coverLetter","fetchJobDetails","response","get","data","error","console","handleChange","e","value","files","target","handleSubmit","preventDefault","formDataToSend","FormData","Object","keys","forEach","key","append","post","headers","className","children","title","onSubmit","htmlFor","type","required","onChange","accept","rows"],"sources":["E:/job_portal/job_portal/src/pages/ApplyJob.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst ApplyJob = () => {\r\n    const { id } = useParams();\r\n    const navigate = useNavigate();\r\n    const [job, setJob] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        email: '',\r\n        phone: '',\r\n        resume: null,\r\n        coverLetter: '',\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchJobDetails = async () => {\r\n            try {\r\n                const response = await axios.get(`https://api.example.com/jobs/${id}`); // Replace with your API endpoint\r\n                setJob(response.data);\r\n                setLoading(false);\r\n            } catch (error) {\r\n                console.error('Error fetching job details:', error);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchJobDetails();\r\n    }, [id]);\r\n\r\n    const handleChange = (e) => {\r\n        const { name, value, files } = e.target;\r\n        setFormData({\r\n            ...formData,\r\n            [name]: files ? files[0] : value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const formDataToSend = new FormData();\r\n            Object.keys(formData).forEach(key => {\r\n                formDataToSend.append(key, formData[key]);\r\n            });\r\n\r\n            await axios.post(`https://api.example.com/jobs/${id}/apply`, formDataToSend, {\r\n                headers: {\r\n                    'Content-Type': 'multipart/form-data',\r\n                },\r\n            });\r\n\r\n            navigate('/jobs');\r\n        } catch (error) {\r\n            console.error('Error submitting application:', error);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <div className=\"text-center py-8\">Loading...</div>;\r\n    }\r\n\r\n    if (!job) {\r\n        return <div className=\"text-center py-8\">Job not found</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n            <div className=\"bg-white shadow rounded-lg p-6\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900 mb-6\">Apply for {job.title}</h1>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                    <div>\r\n                        <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700\">\r\n                            Full Name\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            id=\"name\"\r\n                            name=\"name\"\r\n                            required\r\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                            value={formData.name}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\r\n                            Email\r\n                        </label>\r\n                        <input\r\n                            type=\"email\"\r\n                            id=\"email\"\r\n                            name=\"email\"\r\n                            required\r\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                            value={formData.email}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"phone\" className=\"block text-sm font-medium text-gray-700\">\r\n                            Phone Number\r\n                        </label>\r\n                        <input\r\n                            type=\"tel\"\r\n                            id=\"phone\"\r\n                            name=\"phone\"\r\n                            required\r\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                            value={formData.phone}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"resume\" className=\"block text-sm font-medium text-gray-700\">\r\n                            Resume (PDF)\r\n                        </label>\r\n                        <input\r\n                            type=\"file\"\r\n                            id=\"resume\"\r\n                            name=\"resume\"\r\n                            required\r\n                            accept=\".pdf\"\r\n                            className=\"mt-1 block w-full text-sm text-gray-500\r\n                file:mr-4 file:py-2 file:px-4\r\n                file:rounded-md file:border-0\r\n                file:text-sm file:font-semibold\r\n                file:bg-blue-50 file:text-blue-700\r\n                hover:file:bg-blue-100\"\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"coverLetter\" className=\"block text-sm font-medium text-gray-700\">\r\n                            Cover Letter\r\n                        </label>\r\n                        <textarea\r\n                            id=\"coverLetter\"\r\n                            name=\"coverLetter\"\r\n                            rows=\"4\"\r\n                            required\r\n                            className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n                            value={formData.coverLetter}\r\n                            onChange={handleChange}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"flex justify-end\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n                        >\r\n                            Submit Application\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ApplyJob; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}